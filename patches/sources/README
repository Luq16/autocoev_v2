# Install rest of the programs that AutoCoEv drives.
# These are available as packages in Debian and Ubuntu:
sudo apt install muscle mafft datamash ncbi-blast+ exonerate prank squizz parallel phyml

# Build Guidance (http://guidance.tau.ac.il/)
sudo apt install bioperl
wget http://guidance.tau.ac.il/guidance.v2.02.tar.gz
tar xvf guidance.v2.02.tar.gz
cd guidance.v2.02
make
cd ..

# I know /usr/local is better, I'll modify AutoCoEv to search there, too.
# For now, place it here:
sudo cp -a guidance.v2.02 /usr/lib/guidance

# Get Gblocks (http://molevol.cmima.csic.es/castresana/Gblocks.html):
wget http://molevol.cmima.csic.es/castresana/Gblocks/Gblocks_Linux64_0.91b.tar.Z
tar xvf Gblocks_Linux64_0.91b.tar.Z
sudo cp Gblocks_0.91b/Gblocks /usr/local/bin

# Get SeqKit (https://bioinf.shenwei.me/seqkit/)
wget https://github.com/shenwei356/seqkit/releases/download/v2.1.0/seqkit_linux_amd64.tar.gz
tar xvf seqkit_linux_amd64.tar.gz
sudo cp seqkit /usr/local/bin

# Build TreeBeST Ensembl mod (https://github.com/Ensembl/treebest/)
sudo apt install flex bison
wget https://github.com/Ensembl/treebest/archive/347fa82/treebest-347fa82a0ce1c169849053fdc9ff7d19d221f290.tar.gz
tar xvf treebest-347fa82a0ce1c169849053fdc9ff7d19d221f290.tar.gz
cd treebest-347fa82a0ce1c169849053fdc9ff7d19d221f290
make
sudo cp treebest /usr/local/bin

# AutoCoEv uses phyml executable directly, not through the wrapper
# provided by Debian/Ubuntu. Therefore, make a symlink:
cd /usr/local/bin
ln -s ../../lib/phyml/bin/phyml .

# AutoCoEv expects to find MAFFT aliases in your $PATH. Either add
# /usr/lib/mafft/bin to your $PATH or create symlinks, like this:
cd /usr/local/bin
ln -s ../../lib/mafft/mafft-linsi .
